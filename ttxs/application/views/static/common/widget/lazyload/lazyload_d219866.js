define("common:widget/lazyload/lazyload.js",function(t,e){var i=t("common:widget/lib/jquery.js"),n=function(t){this.settings={picker:"",threshold:280,failure_limit:100,event:"scroll",effect:"fadeIn",effect_speed:600,container:window,data_attribute:"data-origin-url",skip_invisible:!1,appear:null,load:null,loadClass:"image-loading"},this.settings=this.merge(this.settings,t),this.init()};n.prototype={constructor:"lazyload",version:"1.0.0",author:"jixuecong@zeegine.com",merge:function(t,e){for(var i in t)void 0!=e[i]&&(t[i]=e[i]);return t},declare:function(){this.counter=0,this.elements=i(this.settings.picker),this.loadType=void 0!=this.elements.eq(0).attr(this.settings.data_attribute),this.loadType||(this.elements=i(this.settings.picker).find("img")),this.elementsLength=this.elements.length},init:function(){this.declare(),this.registerAppear(),this.update(),this.registerScrollEvent(),this.registerResizeEvent()},registerResizeEvent:function(){var t=this;i(window).on("resize",function(){t.update()})},registerScrollEvent:function(){var t=this;$container=i(void 0===this.settings.container||this.settings.container===window?window:this.settings.container),0===this.settings.event.indexOf("scroll")&&$container.bind(this.settings.event,function(){return t.update()})},registerAppear:function(){var t,e,n,s=this;this.elements.each(function(){t=this,e=i(t),this.loadType?n=e:s.settings.loadClass&&(n=e.parents().filter(function(){return i(this).hasClass(s.settings.loadClass)})),s.bindLoadEvent(t,e,n)})},bindLoadEvent:function(t,e,n){var s=this;t.loaded=!1,e.on("appear",function(){this.loaded||(s.settings.appear&&settings.appear.call(t,s.elementsLength,s.settings),i("<img />").bind("load",function(){s.settings.loadClass&&(s.loadType?e.removeClass(s.settings.loadClass):n.removeClass(s.settings.loadClass)),e.hide().attr("src",e.attr(s.settings.data_attribute)).removeAttr(s.settings.data_attribute)[s.settings.effect](s.settings.effect_speed).removeAttr("style"),t.loaded=!0;var o=i.grep(s.elements,function(t){return!t.loaded});s.elements=i(o),s.settings.load&&settings.load.call(t,s.elementsLength,s.settings)}).attr("src",e.attr(s.settings.data_attribute)))})},update:function(){var t=this;this.elements.each(function(){t.selfTrigger(i(this),this)})},selfTrigger:function(t,e){if(!this.settings.skip_invisible||t.is(":visible"))if(this.abovethetop(e)||this.leftofbegin(e));else if(this.belowthefold(e)||this.rightoffold(e)){if(++this.counter>this.settings.failure_limit)return!1}else t.trigger("appear")},getVisibleElement:function(t){var e=this;return t=i(t),t.is(":visible")||this.loadType||(t=t.parents().filter(function(){return i(this).hasClass(e.settings.loadClass)})),t},belowthefold:function(t,e){var n;return e=e?e:this.settings,n=void 0===e.container||e.container===window?i(window).height()+i(window).scrollTop():i(e.container).offset().top+i(e.container).height(),$element=this.getVisibleElement(t),n<=$element.offset().top-e.threshold},rightoffold:function(t,e){var n;return e=e?e:this.settings,n=void 0===e.container||e.container===window?i(window).width()+i(window).scrollLeft():i(e.container).offset().left+i(e.container).width(),n<=i(t).offset().left-e.threshold},abovethetop:function(t,e){var n;return e=e?e:this.settings,n=void 0===e.container||e.container===window?i(window).scrollTop():i(e.container).offset().top,$element=this.getVisibleElement(t),n>=$element.offset().top+e.threshold+$element.height()},leftofbegin:function(t,e){var n;return e=e?e:this.settings,n=void 0===e.container||e.container===window?i(window).scrollLeft():i(e.container).offset().left,$element=this.getVisibleElement(t),n>=$element.offset().left+e.threshold+$element.width()},inviewport:function(t){return!(this.rightofscreen(t)||this.leftofscreen(t)||this.belowthefold(t)||this.abovethetop(t))},rightofscreen:function(t){return this.rightoffold(t,{threshold:0})},leftofscreen:function(t){return!this.rightoffold(t,{threshold:0})},abovethefold:function(t){return!this.belowthefold(t,{threshold:0})},leftoffold:function(t){return!this.rightoffold(t,{threshold:0})}},e.lazyload=n});