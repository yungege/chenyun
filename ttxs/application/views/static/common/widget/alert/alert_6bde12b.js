define("common:widget/alert/alert.js",function(t,e){var i=t("common:widget/lib/jquery.js"),n=t("common:widget/dialog/dialog.js"),s=function(t){this.settings={title:"",autoHide:!1,timeDelay:2e3,type:"default",button:!1,confirmCallBack:""},this.settings=this.merge(this.settings,t),this.init()};s.prototype={constructor:"alert",version:"1.0.0",author:"jixuecong@zeegine.com",parent:"common:widget/dialog/dialog.js",merge:function(t,e){for(var i in t)void 0!=e[i]&&(t[i]=e[i]);return t},tpl:['<div class="alert #TYPE#">','<span class="alert-close"></span>',"<p>#TITLE#</p>","#BUTTON#","</div>"].join(""),declare:function(){this.timer=null,this.dialog=null,this.successBtn=null,this.cancelBtn=null},init:function(){this.declare(),this.parseTpl(),this.createDialog(),this.btnEvent(),this.autoHideEvent()},autoHideEvent:function(){if(!this.settings.autoHide)return!1;var t=this;this.timer=setTimeout(function(){clearTimeout(t.timer),t.dialog.removeDialog()},this.settings.timeDelay)},btnEvent:function(){if(!this.settings.button)return!1;var t=this;this.successBtn.unbind().click("function"==typeof this.settings.confirmCallBack?function(){t.settings.confirmCallBack.call(this,t)}:function(){t.dialog.removeDialog()}),this.cancelBtn.unbind().click(function(){t.dialog.removeDialog()})},createDialog:function(){var t=this.settings.button?140:101;this.dialog=new n.dialog({width:380,height:t,close:".alert-close",tpl:this.tpl}),this.successBtn=i(".alert-success-btn"),this.cancelBtn=i(".alert-cancel-btn")},parseType:function(){switch(this.settings.type){case"default":return"alert-default";case"warning":return"alert-warning";case"danger":return"alert-danger";default:return"alert-default"}},parseButton:function(){return this.settings.button?['<div class="alert-btn-box">','<button class="alert-success-btn">确认</button>','<button class="alert-cancel-btn">取消</button>',"</div>"].join(""):""},parseTpl:function(){var t=this.parseType();this.tpl=this.tpl.replace(/#TYPE#/,t),this.tpl=this.tpl.replace(/#TITLE#/,this.settings.title);var e=this.parseButton();this.tpl=this.tpl.replace(/#BUTTON#/,e)}},e.alert=s});