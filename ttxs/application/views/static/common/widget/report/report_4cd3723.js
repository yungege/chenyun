define("common:widget/report/report.js",function(t,e){var i=t("common:widget/lib/jquery.js"),o=t("common:widget/dialog/dialog.js"),n=t("common:widget/alert/alert.js"),r=t("common:widget/code/code.js"),a=function(t){this.picker=i(t.picker),this.type=t.type,this.file_id=t.file_id;var e=this;this.picker.click(function(){e.init()})};a.prototype={init:function(){this.dialog=new o.dialog({width:695,height:361,tpl:this.tpl,close:".close-report"}),this.getDom(),this.selectReasonEvent(),this.submitEvent()},submitEvent:function(){var t=this;t.submitBtn.click(function(){i.ajax({url:"/home/submit/report",type:"post",data:{type:t.type,reason:t.reason,file_id:t.file_id,content:t.reportContent.val()},success:function(t){return 0!==t.status.code?new n.alert({type:"danger",title:r.code[t.status.code]}):void new n.alert({title:"您的举报信息已递交，感谢您对打印基的支持"})}})})},reason:1,selectReasonEvent:function(){var t=this;this.reportReason.click(function(){t.reportReason.removeAttr("checked"),i(this).attr("checked",!0),t.reason=i(this).val(),6==t.reason?i(".report-dialog").find("textarea").slideDown():i(".report-dialog").find("textarea").slideUp()})},getDom:function(){this.container=i(".report-dialog"),this.reportReason=this.container.find("input"),this.reportContent=this.container.find("textarea"),this.submitBtn=this.container.find(".confirm")},tpl:['<div class="report-dialog">',"<h1>举报</h1>",'<span class="close close-report"></span>',"<dl>","<dd>",'<input type="radio" value="1" checked=true/>',"垃圾广告","</dd>","<dd>",'<input type="radio" value="2"/>',"抄袭他人","</dd>","<dd>",'<input type="radio" value="3"/>',"政治敏感","</dd>","<dd>",'<input type="radio" value="4"/>',"私情低俗","</dd>","<dd>",'<input type="radio" value="5"/>',"暴力恐怖","</dd>","<dd>",'<input type="radio" value="6"/>',"其他","</dd>","</dl>",'<textarea class="report-content"></textarea>','<div class="btn-box">','<button class="confirm animation-0-2">确定</button>','<button class="cancel close-report animation-0-2">取消</button>',"</div>","</div>"].join("")},e.report=a});