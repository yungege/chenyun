define("common:widget/dragvalue/dragvalue.js",function(t,n){var i=t("common:widget/lib/jquery.js"),o=function(t){this.options=t,this.init()};o.prototype={declare:function(){this.maxLen=parseInt(this.dragBtn.parent().css("width"),10)-parseInt(this.dragBtn.css("width"),10)},init:function(){this.getDom(),this.declare(),this.dragEvent(),this.choiceEvent(),this.inputEvent()},inputEvent:function(){var t,n=this;this.valueEle.on("focus",function(){var n=i(this);t=parseFloat(n.val()).toFixed(2),n.val(""),i(window).on("keydown",function(t){13===t.keyCode&&n.blur()})}).on("blur",function(){var o=i(this),e=parseFloat(o.val());e<=n.options.maxValue?n.update(e/n.options.maxValue*n.maxLen):o.val(t+n.options.unit),i(window).unbind("keydown")})},choiceEvent:function(){var t=this;this.pointEle.unbind().click(function(){t.update(i(this).index()/t.options.pointCount*t.maxLen)})},update:function(t){var n=this,o=t/this.maxLen;this.dragBtn.css("left",t),this.dragLine.css("width",100*o+"%"),this.pointEle.each(function(){var t=i(this);t.index()/n.options.pointCount<o?t.addClass(n.options.pointActiveClass):t.removeClass(n.options.pointActiveClass)});var e=(this.options.maxValue*o).toFixed(2);n.valueEle.val(e+this.options.unit),n.container.attr(this.options.valueAttr,e)},dragEvent:function(){var t=this;this.dragBtn.unbind().on("mousedown",function(n){var o=n.pageX,e=i(this),s=parseInt(e.css("left"),10);i(document).mousemove(function(n){var i=s+n.pageX-o;return Math.abs(i)>t.maxLen||0>i?!1:void t.update(i)})}),i(document).on("mouseup",function(){i(document).unbind("mousemove")})},getDom:function(){this.container=i(this.options.container),this.dragBtn=this.container.find(this.options.dragBtn),this.dragLine=this.container.find(this.options.dragLine),this.pointEle=this.container.find(this.options.pointEle),this.valueEle=this.container.find(this.options.valueEle)}},n.dragvalue=o});